@model IEnumerable<FanSite.Models.UserStory>


@{
    ViewData["Title"] = "ListStories";
    Layout = "_ListLayout";
  //  ViewBag.TestLayout3 = "ViewBag Test Layout 3";
   // ViewBag.commentCount =  List<UserStory>.Stories.Count;
}

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=Device-width" />
    <title>@ViewData["Title"]</title>
</head>
<body>
    <h1>Here is a list of stories submitted by our users.</h1>
    <table>
        <thead>
            <tr>
                <th>Name</th>
                <th>Location</th>
                <th>Title</th>
                <th>Story</th>
            </tr>
        </thead>
        <tbody>

            @foreach (FanSite.Models.UserStory s in Model)
            {
                <tr>
                    <td>@s.Name</td>
                    <td>@s.Location</td>
                    <td>@s.Title</td>
                    <td>@s.Story</td>
                </tr>
              @*    //This code is causing s.StoryComments.Count to assigned to an Object error
            @if (@ViewBag.commentCount > 0)
            {
                <tr>
                 <td><h4>Comments</h4></td>
                </tr>

                @foreach (UserComments uS in s.StoryComments)
                {
                <tr>
                   <td>@uS.Comment</td>
                </tr>
                }

            }
             *@   
                <tr>
                    <td><a asp-controller="Home" asp-action="AddComment" asp-route-title="">Add a Comment</a></td>
                </tr>

            }
        </tbody>
        </table>
</body>
</html>

